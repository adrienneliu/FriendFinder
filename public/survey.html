<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>FoodFinder</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style>
        body,
        html {
            height: 100%;
        }

        .bg {
            /* The image used */
            background-image: url("http://images.unsplash.com/photo-1490818387583-1baba5e638af?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max&ixid=eyJhcHBfaWQiOjEyMDd9");

            background-repeat: no-repeat;
            background-position: top center;
            background-attachment: fixed;
            background-size: cover;
            width: 100%;
        }

        .display-4 {
            padding-top: 10%;
        }

        .form-group {
            width: 75%;
            margin-left: 10%;
        }
    </style>
</head>


<body>
    <div class="bg" style="margin-top:0%">
        <div class="container">
            <!-- <div class="jumbotron jumbotron-fluid mt-5"> -->
            <h1 class="display-4">Take Me</h1>
            <div class="container">
                <p class="lead">This is a modified jumbotron that occupies the entire horizontal space of its parent.
                </p>
                <div class="form-group">
                    <label for="formGroupExampleInput">Name:</label>
                    <input type="text" class="form-control" id="name" placeholder="What do they call you?">
                </div>
                <div class="card justify-content-center" style="width: 75%; margin-left: 10%;">

                    <div class="card-header">
                        How much do you like spicy hot foods?
                    </div>
              
                    <ul class="list-group list-group-flush input-group input-group-prepend" id="questionOne">
                        <li class="list-group-item"><input type="radio"
                                aria-label="Radio button for following text input" class="feature_radio"
                                name="questionOne"  value="1"> I LOVE it!</li>
                        <li class="list-group-item"> <input type="radio"
                                aria-label="Radio button for following text input" class="feature_radio"
                                name="questionOne" value="2"> I would die if I ate it... </li>
                        <li class="list-group-item"> <input type="radio"
                                aria-label="Radio button for following text input" class="feature_radio"
                                name="questionOne"  value="3"> I'm not used to eating it, so I'd rather
                            not. </li>
                        <li class="list-group-item"> <input type="radio"
                                aria-label="Radio button for following text input" class="feature_radio"
                                name="questionOne" value="4"> I'm not used to eating it, BUT I wouldn't
                            mind trying.
                        </li>
                    </ul>
           
                </div>
                <p>
                    <div class="card justify-content-center" style="width: 75%; margin-left: 10%;">
                        <div class="card-header">
                            What do you like to drink on a nice sunny day?
                        </div>
                        <ul class="list-group list-group-flush input-group input-group-prepend" id="questionTwo">
                            <li class="list-group-item"><input type="radio"
                                    aria-label="Radio button for following text input" class="feature_radio"
                                    name="questionTwo" value="1"> Beer! </li>
                            <li class="list-group-item "> <input type="radio"
                                    aria-label="Radio button for following text input" class="feature_radio"
                                    name="questionTwo" value="2"> Coffee! </li>
                            <li class="list-group-item "> <input type="radio"
                                    aria-label="Radio button for following text input" class="feature_radio"
                                    name="questionTwo" value="3"> Give me that boba! </li>
                            <li class="list-group-item "> <input type="radio"
                                    aria-label="Radio button for following text input" class="feature_radio"
                                    name="questionTwo"  value="4"> Lassi! </li>
                        </ul>
                    </div>

                    <p>

                        <div class="text-center">
                            <a href="/">
                                <button" class="btn btn-info">Home</button>
                            </a>
                            <a href="/api/results">
                                <button" class="btn btn-info">Results API</button>
                            </a>
                            <button" class="btn btn-info" id="submit-results" type="submit" data-toggle="modal"
                                data-target="#exampleModal">Submit</button>

                                <!-- Modal -->
                                <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
                                    aria-labelledby="exampleModalLabel" aria-hidden="true">
                                    <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="exampleModalLabel">First Title</h5>
                                                <button type="button" class="close" data-dismiss="modal"
                                                    aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body">
                                                <p>Hello</p>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary"
                                                    data-dismiss="modal">Close</button>
                                                <button type="button" class="btn btn-primary">Save changes</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                        </div>


            </div>
        </div>
    </div>





    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</body>
<script type="text/javascript">
    // function runResults() {
    //     $.ajax({ url: "/api/results", method: "GET" })
    //         .then(function (resultsData) {
    //             console.log(resultsData);
    //         });
    // };

    $("#submit-results").on("click", function (event) {
        event.preventDefault();

        // alert("Hello");
        var newResults = {
            name: $("#name").val().trim(),
            scores: [
                // $("#questionOne").val().trim(),
                // $("#questionTwo").val().trim()
                $('input[name=questionOne]:checked', '#questionOne').val(),
                $('input[name=questionTwo]:checked', '#questionTwo').val()
                
            ]
        };

        //console.log(newResults);


        $.post("/api/results", newResults)
            .then(function (data) {
                console.log("add", data);
                alert("adding");
            });

            $('#exampleModal').on('show.bs.modal', function (event) {
  var button = $(event.relatedTarget)
  var modal = $(this)
  modal.find('.modal-title').text('New message to ' + recipient)
  modal.find('.modal-body input').val(recipient)
})
    })


</script>

</html>